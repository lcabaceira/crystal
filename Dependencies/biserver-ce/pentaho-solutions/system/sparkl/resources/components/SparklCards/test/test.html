<html>
  <head>
    <title>Test</title>

    <link rel='stylesheet' type='text/css' href='../component.css' />
  </head>
<body>
  <h1>Testing Sparkl Plugin Card</h1>
  <div id='foo' class='fool'></div>

  <script src='lib/jquery.js' type='text/javascript'></script>
  <script src='lib/underscore.js' type='text/javascript'></script>
  <script src='lib/backbone.js' type='text/javascript'></script>
  <script src='lib/mustache.js' type='text/javascript'></script>
  <script src='../component.js' type='text/javascript'></script>
  <script type='text/javascript'>

  var pluginOptsButton = [
    {
      id: "deleteOption",
      label: "Delete"
    },
    {
      id: "viewOption",
      label: "View"
    }
  ]

  var plugins = [
    {
      pluginId: 'plugin1',
      plugin_description: 'A plugin made of gold',
      plugin_name: 'BSilva Breakfast Plugin',
      version: '01a13',
      actionOpts: pluginOptsButton,
      imgSrc: '../img/alpha.png'
    },
    {
      pluginId: 'plugin2',
      plugin_description: 'Testing some stuff 22222',
      plugin_name: 'BSilva Lunch Plugin',
      version: '01a13',
      actionOpts: pluginOptsButton,
      imgSrc: '../img/beta.png'
    },
    {
      pluginId: 'plugin3',
      plugin_description: 'Testing some stuff 3333',
      plugin_name: 'BSilva Tea Plugin',
      version: '01a13',
      actionOpts: pluginOptsButton,
      imgSrc: '../img/gamma.png'
    },
    {
      pluginId: 'plugin4',
      plugin_description: 'Testing some stuff 3333',
      plugin_name: 'PMartins Plugin',
      version: '01a13',
      actionOpts: pluginOptsButton,
      imgSrc: '../img/omega.png'
    }
  ]

  _.each( plugins , function(pluginOpts){
    var card = new wd.cpk.models.sparklPluginCard( pluginOpts );

    var cardView = new wd.cpk.views.sparklPluginCard({
      model: card,
      tagName: 'div'
    });

    card.on('action:deleteOption',function(id){
      Console.log('Deleting '+id);
    },this);
    card.on('action:viewOption',function(id){
      Console.log('Viewing '+id);
    },this);


    cardView.render( '#foo' );
  });


   /* opts.on('change:selection', function (){
      var selection = opts.get('selection');
      console.log(selection.start + '  --->  ' + selection.end);
    }); */

  </script>
</body>
</html>
