/*!
 * angular-translate - v2.1.0 - 2014-09-04
 * http://github.com/PascalPrecht/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(a){var b=a.storageKey(),c=a.storage();c?c.get(b)?a.use(c.get(b)):angular.isString(a.preferredLanguage())?a.use(a.preferredLanguage()):c.set(b,a.use()):angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q={},r=[],s=a,t=[],u=!1,v="translate-cloak",w=!1,x=".",y=function(){var a=window.navigator;return(a.language||a.browserLanguage||a.systemLanguage||a.userLanguage||"").split("-").join("_")},z=function(a){for(var b=[],d=angular.lowercase(a),e=0,f=r.length;f>e;e++)b.push(angular.lowercase(r[e]));if(b.indexOf(d)>-1)return a;if(c){var g;for(var h in c){var i=!1,j=c.hasOwnProperty(h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=c[h],b.indexOf(angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&b.indexOf(angular.lowercase(k[0]))>-1?k[0]:a},A=function(a,b){if(!a&&!b)return q;if(a&&!b){if(angular.isString(a))return q[a]}else angular.isObject(q[a])||(q[a]={}),angular.extend(q[a],B(b));return this};this.translations=A,this.cloakClassName=function(a){return a?(v=a,this):v};var B=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)a.hasOwnProperty(e)&&(h=a[e],angular.isObject(h)?B(h,b.concat(e),c,e):(f=b.length?""+b.join(x)+x+e:e,b.length&&e===d&&(g=""+b.join(x),c[g]="@:"+f),c[f]=h));return c};this.addInterpolation=function(a){return t.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return k=a,this},this.useSanitizeValueStrategy=function(a){return u=a,this},this.preferredLanguage=function(a){return C(a),this};var C=function(a){return a&&(b=a),b};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(o=a,this):o},this.translationNotFoundIndicatorRight=function(a){return a?(p=a,this):p},this.fallbackLanguage=function(a){return D(a),this};var D=function(a){return a?(angular.isString(a)?(e=!0,d=[a]):angular.isArray(a)&&(e=!1,d=a),angular.isString(b)&&d.indexOf(b)<0&&d.push(b),this):e?d[0]:d};this.use=function(a){if(a){if(!q[a]&&!l)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return f=a,this}return f};var E=function(a){return a?void(s=a):i?i+s:s};this.storageKey=E,this.useUrlLoader=function(a){return this.useLoader("$translateUrlLoader",{url:a})},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return l=a,n=b||{},this},this.useFileFormatAdapter=function(a){return m=a,this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return h=a,this},this.storagePrefix=function(a){return a?(i=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return j=a,this},this.usePostCompiling=function(a){return w=!!a,this},this.determinePreferredLanguage=function(a){var c=a&&angular.isFunction(a)?a():y();return b=r.length?z(c):c,this},this.registerAvailableLanguageKeys=function(a,b){return a?(r=a,b&&(c=b),this):r},this.$get=["$log","$injector","$rootScope","$q",function(a,c,i,r){var x,y,F,G=c.get(k||"$translateDefaultInterpolation"),H=!1,I={},J={},K=function(a,c,e){if(angular.isArray(a)){var g=function(a){for(var b={},d=[],f=function(a){var d=r.defer(),f=function(c){b[a]=c,d.resolve([a,c])};return K(a,c,e).then(f,f),d.promise},g=0,h=a.length;h>g;g++)d.push(f(a[g]));return r.all(d).then(function(){return b})};return g(a)}var i=r.defer();a&&(a=a.trim());var j=function(){var a=b?J[b]:J[f];if(y=0,h&&!a){var c=x.get(s);if(a=J[c],d&&d.length){var e=L(d,c);y=e>-1?e+=1:0,d.push(b)}}return a}();return j?j.then(function(){X(a,c,e).then(i.resolve,i.reject)},i.reject):X(a,c,e).then(i.resolve,i.reject),i.promise},L=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},M=function(a){return o&&(a=[o,a].join(" ")),p&&(a=[a,p].join(" ")),a},N=function(a){f=a,i.$emit("$translateChangeSuccess"),h&&x.set(K.storageKey(),f),G.setLocale(f),angular.forEach(I,function(a,b){I[b].setLocale(f)}),i.$emit("$translateChangeEnd")},O=function(a,b){if(!a)throw"No language key specified for loading.";var d=J[a];if(d&&(!b||null===d.isOk))return d;var e=r.defer();return d=J[a]=e.promise,d.isOk=null,i.$emit("$translateLoadingStart"),H=!0,c.get(l)(angular.extend(n,{key:a,fileFormatAdapter:m&&c.get(m)})).then(function(b){var c={};i.$emit("$translateLoadingSuccess"),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(c,B(a))}):angular.extend(c,B(b)),H=!1,d.isOk=!0,e.resolve({key:a,table:c}),i.$emit("$translateLoadingEnd")},function(a){d.isOk=!1,i.$emit("$translateLoadingError"),e.reject(a),i.$emit("$translateLoadingEnd")}),d};if(h&&(x=c.get(h),!x.get||!x.set))throw new Error("Couldn't use storage '"+h+"', missing get() or set() method!");angular.isFunction(G.useSanitizeValueStrategy)&&G.useSanitizeValueStrategy(u),t.length&&angular.forEach(t,function(a){var d=c.get(a);d.setLocale(b||f),angular.isFunction(d.useSanitizeValueStrategy)&&d.useSanitizeValueStrategy(u),I[d.getInterpolationIdentifier()]=d});var P=function(a){var b=r.defer();return q.hasOwnProperty(a)?(b.resolve(q[a]),b.promise):(J[a].then(function(a){A(a.key,a.table),b.resolve(a.table)},b.reject),b.promise)},Q=function(a,b,c,d){var e=r.defer();return P(a).then(function(g){g.hasOwnProperty(b)?(d.setLocale(a),e.resolve(d.interpolate(g[b],c)),d.setLocale(f)):e.reject()},e.reject),e.promise},R=function(a,b,c,d){var e,g=q[a];return g.hasOwnProperty(b)&&(d.setLocale(a),e=d.interpolate(g[b],c),d.setLocale(f)),e},S=function(a){if(j){var b=c.get(j)(a,f);return void 0!==b?b:a}return a},T=function(a,b,c,e){var f=r.defer();if(a<d.length){var g=d[a];Q(g,b,c,e).then(function(a){f.resolve(a)},function(){var d=T(a+1,b,c,e);f.resolve(d)})}else f.resolve(S(b));return f.promise},U=function(a,b,c,e){var f;if(a<d.length){var g=d[a];f=R(g,b,c,e),f||(f=U(a+1,b,c,e))}return f},V=function(a,b,c){return T(F>0?F:y,a,b,c)},W=function(a,b,c){return U(F>0?F:y,a,b,c)},X=function(a,b,c){var e=r.defer(),g=f?q[f]:q,h=c?I[c]:G;if(g&&g.hasOwnProperty(a)){var i=g[a];"@:"===i.substr(0,2)?K(i.substr(2),b,c).then(e.resolve,e.reject):e.resolve(h.interpolate(i,b))}else{var k;j&&!H&&(k=S(a)),f&&d&&d.length?V(a,b,h).then(function(a){e.resolve(a)},function(a){e.reject(M(a))}):j&&!H&&k?e.resolve(k):e.reject(M(a))}return e.promise},Y=function(a,b,c){var e,g=f?q[f]:q,h=c?I[c]:G;if(g&&g.hasOwnProperty(a)){var i=g[a];e="@:"===i.substr(0,2)?Y(i.substr(2),b,c):h.interpolate(i,b)}else{var k;j&&!H&&(k=S(a)),f&&d&&d.length?(y=0,e=W(a,b,h)):e=j&&!H&&k?k:M(a)}return e};if(K.preferredLanguage=function(a){return a&&C(a),b},K.cloakClassName=function(){return v},K.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(D(a),l&&d&&d.length)for(var b=0,c=d.length;c>b;b++)O(d[b]);K.use(K.use())}return e?d[0]:d},K.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=L(d,a);b>-1&&(F=b)}else F=0},K.proposedLanguage=function(){return g},K.storage=function(){return x},K.use=function(a){if(!a)return f;var b=r.defer();i.$emit("$translateChangeStart");var c=z(a);return c&&(a=c),!q[a]&&l?J[a]?(g=a,J[a].then(function(c){b.resolve(a),g===a&&(N(c.key),g=void 0)})):(g=a,O(a).then(function(c){A(c.key,c.table),b.resolve(c.key),g===a&&(N(c.key),g=void 0)},function(a){g=void 0,i.$emit("$translateChangeError"),b.reject(a),i.$emit("$translateChangeEnd")})):(b.resolve(a),N(a)),b.promise},K.storageKey=function(){return E()},K.isPostCompilingEnabled=function(){return w},K.refresh=function(a){function b(){e.resolve(),i.$emit("$translateRefreshEnd")}function c(){e.reject(),i.$emit("$translateRefreshEnd")}if(!l)throw new Error("Couldn't refresh translation table, no loader registered!");var e=r.defer();if(i.$emit("$translateRefreshStart"),a)q[a]?O(a,!0).then(function(c){A(c.key,c.table),a===f&&N(f),b()},c):c();else{var g=[];if(d&&d.length)for(var h=0,j=d.length;j>h;h++)f!==J[d]&&g.push(O(d[h],!0));f&&g.push(O(f,!0)),r.all(g).then(function(a){angular.forEach(a,function(a){q[a.key]&&delete q[a.key],A(a.key,a.table)}),f&&N(f),b()})}return e.promise},K.instant=function(a,c,e){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var g={},h=0,i=a.length;i>h;h++)g[a[h]]=K.instant(a[h],c,e);return g}if(angular.isString(a)&&a.length<1)return a;a&&(a=a.trim());var k,l=[];b&&l.push(b),f&&l.push(f),d&&d.length&&(l=l.concat(d));for(var m=0,n=l.length;n>m;m++){var o=l[m];if(q[o]&&"undefined"!=typeof q[o][a]&&(k=Y(a,c,e)),"undefined"!=typeof k)break}return k||""===k||(k=a,j&&!H&&(k=S(a))),k},l&&(angular.equals(q,{})&&K.use(K.use()),d&&d.length))for(var Z=function(a){A(a.key,a.table)},$=0,_=d.length;_>$;$++)O(d[$]).then(Z);return K}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(a){var b,c={},d="default",e=null,f={escaped:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=angular.element("<div></div>").text(a[c]).html());return b}},g=function(a){var b;return b=angular.isFunction(f[e])?f[e](a):a};return c.setLocale=function(a){b=a},c.getInterpolationIdentifier=function(){return d},c.useSanitizeValueStrategy=function(a){return e=a,this},c.interpolate=function(b,c){return e&&(c=g(c)),a(b)(c||{})},c}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(a,b,c,d,e,f){return{restrict:"AE",scope:!0,compile:function(b,g){var h=g.translateValues?g.translateValues:void 0,i=g.translateInterpolation?g.translateInterpolation:void 0,j=b[0].outerHTML.match(/translate-value-+/i),k="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)";return function(b,l,m){if(b.interpolateParams={},b.preText="",b.postText="",m.$observe("translate",function(a){if(angular.equals(a,"")||!angular.isDefined(a)){var d=l.text().match(k);angular.isArray(d)?(b.preText=d[1],b.postText=d[3],b.translationId=c(d[2])(b.$parent)):b.translationId=l.text().replace(/^\s+|\s+$/g,"")}else b.translationId=a}),m.$observe("translateDefault",function(a){b.defaultText=a}),h&&m.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),j){var n=function(a){m.$observe(a,function(c){b.interpolateParams[angular.lowercase(a.substr(14,1))+a.substr(15)]=c})};for(var o in m)m.hasOwnProperty(o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o&&n(o)}var p=function(b,c,e){e||"undefined"==typeof c.defaultText||(b=c.defaultText),l.html(c.preText+b+c.postText);var f=a.isPostCompilingEnabled(),h="undefined"!=typeof g.translateCompile,i=h&&"false"!==g.translateCompile;(f&&!h||i)&&d(l.contents())(c)},q=function(){return h||j?function(){var c=function(){b.translationId&&b.interpolateParams&&a(b.translationId,b.interpolateParams,i).then(function(a){p(a,b,!0)},function(a){p(a,b,!1)})};b.$watch("interpolateParams",c,!0),b.$watch("translationId",c)}:function(){var c=b.$watch("translationId",function(d){b.translationId&&d&&a(d,{},i).then(function(a){p(a,b,!0),c()},function(a){p(a,b,!1),c()})},!0)}}(),r=f.$on("$translateChangeSuccess",q);q(),b.$on("$destroy",r)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(a,b){return{compile:function(c){var d=a.$on("$translateChangeEnd",function(){c.removeClass(b.cloakClassName()),d(),d=null});c.addClass(b.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(a,b){return function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)}}]);